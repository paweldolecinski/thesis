W tym rozdziale prezentowany jest prototyp systemu wspomagania decyzji grupowejTDM Team Decision Maker. Jest to oparta na architekturze klient-serweraplikacja internetowa, która implementuje teoretyczny model przedstawiony wpoprzednim rozdziale. Ze względu na złożoność systemu oraz samego modeluteoretycznego na potrzeby tej pracy powstał jedynie prototyp, który wykorzystujetylko część funkcjonalności opisanych wcześniej. Nie mniej jednak, jest towystarczające aby zrozumieć zasadę działania oraz ideę systemu wspomaganiadecyzji grupowej w warunkach dynamicznych.W pierwszej części będzie omówiony aspekt informatyczny systemu,czyli wykorzystane technologie, architektura oraz przepływ pracy (ang. workflow), a także konkretne osadzenie modułów modelu teoretycznego.Dalej opisany zostanie przypadek użycia wraz z wynikami obliczeńwykonywanych przez system. Zobrazowana zostanie dynamika procesu oraz mobilnośćrozwiązania. Możliwość uczestnictwa w procesie podejmowania decyzji bezobowiązku fizycznej obecności w jednym miejscu, a nawet bez koniecznościzdalnego spotkania o określonej godzinie to jedna z większych zalet systemu.Jednak głównym celem tego rozdziału, zaraz po samej prezentacji systemu, jestpodkreślenie tego, jak model matematyczny współgra z rzeczywistą implementacją izastosowaniem w praktyce. \section{Architektura systemu TDM}Prototyp aplikacji TDM wykonany jest w architekturze klient-serwer, gdzie serweroparty jest na technologii JavaEE i udostępnia poprzez sieć usługiwykorzystywane przez aplikacje klienckie. Do komunikacji został wykorzystanywzorzec REST (ang. Representational State Transfer) oparty na protokole HTTP.Dzięki temu system jest otwarty na powstawanie nowych aplikacji klienckichnapisanych w różnych technologiach. Na potrzeby tej pracy, w ramach prototypu,jako klient wzorcowy powstała aplikacja przeglądarkowa. Ogólny diagramarchitektury znajduje się na rysunku.\missingfigure{Diagram architektury systemu}\subsection{Wykorzystane technologie}Głównym kryterium doboru technologii była możliwie jak największa dostępnośćaplikacji na wszystkie nowoczesne urządzenia stacjonarne oraz, co ważniejsze,mobilne (telefony, tablety). Istotną rzeczą była również łatwość wdrożeniaoprogramowania. Stąd też zdecydowano się na język Java wraz z platformą JavaEEpo stronie serwera co zapewnia łatwą skalowalność i przenoszalność orazstronę internetową po stronie klienta, ponieważ większość obecnie dostępnychurządzeń posiada zainstalowaną wydajną przeglądarkę internetową.Lista zastosowanych technologii:\begin{itemize}
    \item klient www  \begin{itemize}
    \item Google Web Toolkit 3.5    \item GWT-Platform 1.0-RC-3    \item CSS 3    \item GWT-Bootstrap 2.2.1.0    \item Bootstrap from Twitter 2.3.1    \item PhoneGap 2.7.0  \end{itemize}    \item serwer  \begin{itemize}    \item Google AppEngine 1.8.0    \item Spring Framework 3.2.2    \item Spring Security 3.1.3    \item Spring Social 1.1.0    \item Java Data Objects 3.0    \item DataNucleus 3.1.1    \item Scala 2.10.1  \end{itemize}\end{itemize}\subsection{Aplikacja kliencka}\subsection{Serwer}\subsection{Przepływ informacji/komunikacja}\section{Studium przypadku}W tym podrozdziale zilustrowany jest prosty, ale prawdziwy przykładwykorzystania systemu wpierania decyzji grupowej. Warto zwrócić uwagę nazachowanie systemu w przypadku złożonych problemów, kiedy to zbiór alternatywmoże bardzo się zmieniać w krótkich odstępach czasu, jak również zbiór ten możebyć bardzo duży. Model systemu nie nakłada żadnych ograniczeń ilościowych naalternatywy, może też obsługiwać dowolną liczbę ekspertów. Aby pokazać działanieprototypu, będziemy śledzić przepływ informacji przedstawiony wcześniej.Jako studium przypadku została wybrana grupa czterech osób - współpracowników,które muszą wybrać lokal na spotkanie integracyjne. Wszyscy na co dzieńpracują w różnych krajach i w różnych strefach czasowych co uniemożliwia wspólnespotkanie w celu dokonania wyboru.W pierwszej kolejności, jeden z członków grupy (zwany dalej moderatorem) musistworzyć nowy problem w aplikacji TDM. Trzeba podać nazwę problemu orazopcjonalalnie opis wyjaśniający problem. Następnie, aby proces miał sens, trzebapodać przynajmniej dwie alternatywy oraz zaprosić do dyskusji pozostałe osoby. Wtym przykładzie na początku dostępnych jest pięć propozycji lokalu zebranych wtabeli \ref{tab:init_ideas}.\missingfigure{screenshot z aplikacji: dodanie idei oraz ekspertow}Aplikacja samodzielnie inicjalizuje niezbędne dla obliczeń parametry problemudecyzyjnego. Samodzielnie można zmienić maksymalny podzbiór alternatyw brany poduwagę, który domyślnie przyjmuje wartość nieskończoną. Dla prostoty przykładuoraz lepszego pokazania dynamiki alternatyw maksymalny podzbiór alternatywustawiony jest na 4. Wszystkie wartości parametrów zebrane zostały w tabeli\ref{tab:init_problem_params}.\begin{table}[ht]\caption{Początkowe propozycje rozwiązania problemu}\begin{tabularx}{\textwidth}{|c|c|X|}\hlineID & Nazwa & Opis \\\hline$x_1$ & Lokal 1 & Miejsca: $75$ Cena: $100\textrm{zł}$ \\\hline$x_2$ & Lokal 2 & Miejsca: $50$ Cena: $90\textrm{zł}$ \\\hline$x_3$ & Lokal 3 & Miejsca: $60$ Cena: $120\textrm{zł}$ \\\hline$x_4$ & Lokal 4 & Miejsca: $100$ Cena: $60\textrm{zł}$ \\\hline$x_5$ & Lokal 5 & Miejsca: $75$ Cena: $70\textrm{zł}$ \\\hline\end{tabularx}\label{tab:init_ideas}\end{table}\begin{table}[ht]
\caption{Początkowe parametry problemu}\begin{tabularx}{\textwidth}{|c|c|X|}
\hlineNazwa & Wartość & Opis \\\hlineb & 1 & Kontroluje rygorystyczność procesu przy obliczaniu miar bliskości \\\hline$\beta$ & 0.5 & kontroluje zachowanie OR-LIKE operatora agregacji \\\hlineminConsDegree & 0.8 & Minimalny poziom konsensusu \\\hlineminProxDegree & 0.7 & Minimalny poziom bliskości \\\hlineminQGDD & 0.2 & Minimalny poziom dominancji \\\hlineDSsize & 4 & Maksymalny podzbiór alternatyw \\\hline
\end{tabularx}
\label{tab:init_problem_params}
\end{table}Należy zwrocić uwagę, że początkowy zbiór wszystkich rozwiązań składa się zpięciu lokali $\mathcal{X} = \{ x_1, x_2, x_3, x_4, x_5\}$, natomiast założono,że eksperci powinni w jednym momencie skupić się na ocenie maksymalnie czterech.Zatem początkowy podzbiór rozwiązań składa się tylko z pierwszych czterechzaproponowanych $\mathcal{X'} = \{ x_1, x_2, x_3, x_4\}$.Dla uproszczenia obliczeń oraz ze względu na ograniczoną ilość miejsca w tejpracy, pokazane zostaną tylko dwie ,,rundy''. Zakładamy też, że każda runda nawejściu otrzymuje kompletny zbiór preferencji od każdego z ekspertów. Warto natomiast pamiętać, że cały proces uruchamiany jest każdorazowo dlapojedyńczego głosu. \subsection{Pierwszy etap w procesie decyzyjnym}
Na rysunku pokazane są preferencje ekspertów wyrażone za pomocą funkcjiużyteczności.\subsubsection{Etap unifikowania}W pierwszej kolejności preferencje podane przez ekspertów muszą zostać poddaneunifikacji, czyli wyrażone za pomocą rozmytej relacji preferencji. Modułunifikowania wykorzystuje wzory transformacji opisane w modelu teoretycznym, codaje następujące wyniki:$$P^1 = \begin{pmatrix}0.5  & 0.16  & 0.33  & 0    \\0.83 & 0.5   & 0.66  & 0.33 \\0.66 & 0.33  & 0.5   & 0.16 \\1    & 0.66  & 0.83  & 0.5\end{pmatrix}P^2 = \begin{pmatrix}0.5  & 0.57  & 0.88  & 0.94 \\0.43 & 0.5   & 0.84  & 0.92 \\0.22 & 0.16  & 0.5   & 0.69 \\0.06 & 0.08  & 0.21  & 0.5\end{pmatrix}$$$$P^3 = \begin{pmatrix}0.5  & 0.3   & 0.9   & 0.7  \\0.7  & 0.5   & 1     & 0.8  \\0.1  & 0     & 0.5   & 0.2  \\0.3  & 0.2   & 0.8   & 0.5\end{pmatrix}P^4 = \begin{pmatrix}0.5  & 0.66  & 0.97  & 0.82 \\0.34 & 0.5   & 0.91  & 0.66 \\0.03 & 0.09  & 0.5   & 0.18 \\0.18 & 0.34  & 0.82  & 0.5\end{pmatrix}$$  \subsubsection{Proces selekcji}Wykorzystując kryterium rozmytej większości oraz operator OWA z wektorem wag$W= [0.5,0.2,0.17,0.13]$ (,,większość''), w fazie agregacji obliczana jestzbiorowa rozmyta relacja preferencji:$$P^c = \begin{pmatrix}0.5  & 0.52  & 0.86   & 0.7  \\0.48 & 0.5   & 0.91   & 0.8  \\0.14 & 0.09  & 0.5    & 0.2  \\0.25 & 0.23  & 0.56   & 0.5\end{pmatrix}$$Następnie moduł eksploatacji przedstawi proponowane rozwiązanie problemu. Woparciu o operator OWA z wektorem wag $W = [0.07, 0.67, 0.26]$ (,,większość'')obliczane są stopnie dominancji (QGDD): $QGDD_1 = 0.696$, $QGDD_2 = 0.702$,$QGDD_3 = 0.146$, $QGDD_4 = 0.265$. Są to wartości, które reprezentujądominancje jaką jedna alternatywa ma nad ,,większością'' pozostałych alternatywwedług ,,większości'' ekspertów.Na podstawie powyższych wyników widać, że obecnie najlepszym kandydatem jestlokal drugi $x_2$, a tymczasowe rozwiązanie można zaprezentować jakouporządkowaną listę $\{ x_2, x_1,x_4, x_3\}$.\subsubsection{Proces konsensusu}Pierwszy krok został już osiągniety. System może przedstawić proponowanerozwiązanie na podstawie zgłoszonych preferencji ekspertów. Ale to nie koniec. Wmodule konsensusu system musi sprawdzić w jakim stopniu eksperci są zgodni zesobą, tzn. czy zaproponowane wyżej rozwiązanie jest rozwiązaniem odpowiadającymwiększości grupy.Wpierw moduł musi ustalić indywidualne dla każdego eksperta uporządkowaniealternatyw na tej samej zasadzie co obliczanie zbiorczego rozwiązania:$$e_1: \{ x_4, x_2, x_3, x_1 \} \;\; e_2: \{ x_1, x_2, x_3, x_4 \}$$$$e_3: \{ x_1, x_2, x_4, x_3 \} \;\; e_4: \{ x_2, x_1, x_4, x_3 \}$$Stopnie konsensusu dla każdej z alternatyw to: $C(x_1) = 0.55, C(x_2) =0.66,$ $C(x_3) = 0.77, C(x_4) = 0.66.$ Miara konsensusu wynosi$C_{\mathcal{X}} = 0.67$.Ostatecznie obliczone miary bliskości wynoszą: $P^1_{\mathcal{X}} = 0.55,\;P^2_{\mathcal{X}} = 0.67,\; P^3_{\mathcal{X}} = 0.78,\; P^4_{\mathcal{X}} = 1$.Jasno widać, że konsensus nie osiągnął wymaganej wartości minimalnej($C_{\mathcal{X}} < 0.8$), czyli aplikacja powinna kontynuować kolejne etapy,szczególnie etap generowania informacji zwrotnej.\subsubsection{Dynamiczny wybór alternatyw}Eksperci w każdym momencie działania aplikacji mogą zgłaszać nowe alternatywy,mogą również zgłosić, że jedna z opcji brana do tej pory pod uwagę jest już nieaktualna, na przykład jeden z lokali ma już komplet rezerwacji.W tej sytuacji niezbędna jest aktualizacja wszystkich danych o problemie, któremogły się zmienić w trakcie działania procesu.W tym przypadku okazało się, że alternatywa $x_3$ nie osiągnęła minimalnegostopnia dominancji, t.j. $QGDD_3 < MinQGDD = 0.2$. W między czasie zgłoszonazostała nowa propozycja $x_6$. System zgłasza usunięcie $x_3$ zpodzbioru dyskusji, a dołączenie w to miejsce $x_6$. Jest jeszcze jednaoczekująca alternatywa $x_5$, jednak aplikacja w pierwszej kolejności promujenajnowsze propozycje ekspertów. W przypadku większej ilości propozycji istniejemożliwość wstępnego głosowania na nowe opcje. Inną możliwością jest zwiększenierozmiaru podzbioru dyskusji.\subsubsection{Informacja zwrotna}Moduł informacji zwrotnej jest odpowiedzialny za doprowadzanie grupy do jaknajwiększego konsensusu. Zatem generowane są rekomendacje oraz podpowiedzi dlakażdego członka, który nie zgadza się z większością. Oczywiście są to tylko wskazówki,których nie trzeba stosować.Aplikacja wpierw szereguje ekspertów według osiągniętych przez nich miarbliskości: $e_4, e_3, e_2, e_1$. W tym momencie widać, że dwóch członków grupy,$e_2 i e_1$, uzyskali poziom bliskości poniżej minimalnego $minProxDegree$,zatem oni zostaną poproszeni o zmienie swoich preferencji. Oczywiścierekomendacje na temat propozycji $x_3$ są pomijane ze względu na jej usunięcie.Natomiast wszyscy eksperci są proszeni o podanie swoich preferencji dla nowejalternatywy $x_6$. Rekomendacje otrzymane przez ekspertów można zobaczyć narysunku. \missingfigure{Rekomendacje dla ekspertów}\subsection{Drugi etap w procesie decyzyjnym}Jest to faza w której wszyscy eksperci ponownie wysłali swoje preferencje dlawszystkich alternatyw w oparciu o rekomendacje. Wszystkie preferencje zostałyzebrane na rysunku. \missingfigure{Rekomendacje dla ekspertów}Cały proces z rundy pierwszej jest powtarzany, tzn. preferencje sątransformowane do rozmytych relacje preferencji, a moduł selekcji przedstawianowe rozwiązanie problemu. Nowy ranking lokali to $x_2, x_1, x_6, x_4$.Następnie moduł konsensusu sprawdza osiągnięty poziom konsensusu. Dla podanychdanych przykładowych otrzymano $C_{\mathcal{X}} = 0.88$. Oznacza to, że zostałosiągnięty minimalny poziom wymagany przez problem ($C_{\mathcal{X}} > 0.8$),a grupa zostaje zapoznana z proponowanym rozwiązaniem. Aplikacji informuje, żewiększość członków grupy zgadza się ze sobą, ale nic nie stoi na przeszkodzie wkontynuowaniu dyskusji - decyzja zawsze należy do grupy.